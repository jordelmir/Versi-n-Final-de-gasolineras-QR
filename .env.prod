# Production Environment Variables
# CRITICAL: Never commit real production secrets to version control!

# =============================================================================
# IMAGE CONFIGURATION
# =============================================================================
IMAGE_TAG=latest
REGISTRY_URL=your-registry.com/gasolinera-jsm

# =============================================================================
# DATABASE CONFIGURATION - PRODUCTION
# =============================================================================
POSTGRES_DB=gasolinera_jsm
POSTGRES_USER=gasolinera_user
POSTGRES_HOST=postgres-primary
POSTGRES_PORT=5432
POSTGRES_REPLICA_USER=replica_user
POSTGRES_MAX_CONNECTIONS=200
POSTGRES_SHARED_BUFFERS=512MB
POSTGRES_EFFECTIVE_CACHE_SIZE=2GB

# =============================================================================
# REDIS CONFIGURATION - PRODUCTION
# =============================================================================
REDIS_HOST=redis-primary
REDIS_PORT=6379
REDIS_REPLICA_HOST=redis-replica
REDIS_PASSWORD=CHANGE_ME_IN_PRODUCTION
REDIS_MAX_MEMORY=1gb
REDIS_MAX_MEMORY_POLICY=allkeys-lru

# =============================================================================
# RABBITMQ CONFIGURATION - PRODUCTION
# =============================================================================
RABBITMQ_HOST=rabbitmq-primary
RABBITMQ_PORT=5672
RABBITMQ_MANAGEMENT_PORT=15672
RABBITMQ_VIRTUAL_HOST=gasolinera_vhost
RABBITMQ_VM_MEMORY_HIGH_WATERMARK=0.6
RABBITMQ_DISK_FREE_LIMIT=2GB

# =============================================================================
# VAULT CONFIGURATION - PRODUCTION
# =============================================================================
VAULT_ADDR=https://vault:8200
VAULT_NAMESPACE=gasolinera
VAULT_SKIP_VERIFY=false

# =============================================================================
# OBSERVABILITY - PRODUCTION
# =============================================================================
JAEGER_ENDPOINT=http://jaeger:14268/api/traces
OTEL_EXPORTER_OTLP_ENDPOINT=http://jaeger:4317
OTEL_SERVICE_NAME=gasolinera-jsm
OTEL_RESOURCE_ATTRIBUTES=service.name=gasolinera-jsm,service.version=1.0.0,deployment.environment=production

# Elasticsearch
ELASTICSEARCH_USERNAME=elastic
ELASTICSEARCH_CLUSTER_NAME=gasolinera-cluster
ELASTICSEARCH_JAVA_OPTS=-Xms1g -Xmx1g

# Prometheus
PROMETHEUS_RETENTION_TIME=30d
PROMETHEUS_RETENTION_SIZE=10GB

# =============================================================================
# SPRING PROFILES - PRODUCTION
# =============================================================================
SPRING_PROFILES_ACTIVE=prod

# =============================================================================
# LOGGING CONFIGURATION - PRODUCTION
# =============================================================================
LOGGING_LEVEL_ROOT=INFO
LOGGING_LEVEL_COM_GASOLINERAJSM=INFO
LOGGING_LEVEL_ORG_SPRINGFRAMEWORK=WARN
LOGGING_LEVEL_ORG_HIBERNATE=WARN

# =============================================================================
# JVM CONFIGURATION - PRODUCTION
# =============================================================================
JAVA_OPTS_BASE=-XX:+UseG1GC -XX:+UseStringDeduplication -XX:MaxGCPauseMillis=200
API_GATEWAY_JAVA_OPTS=-Xmx1024m -Xms512m
AUTH_SERVICE_JAVA_OPTS=-Xmx768m -Xms384m
COUPON_SERVICE_JAVA_OPTS=-Xmx768m -Xms384m
STATION_SERVICE_JAVA_OPTS=-Xmx768m -Xms384m
RAFFLE_SERVICE_JAVA_OPTS=-Xmx768m -Xms384m
REDEMPTION_SERVICE_JAVA_OPTS=-Xmx768m -Xms384m
AD_ENGINE_JAVA_OPTS=-Xmx768m -Xms384m

# =============================================================================
# SECURITY CONFIGURATION - PRODUCTION
# =============================================================================
SECURITY_REQUIRE_SSL=true
SECURITY_CSRF_ENABLED=true
SECURITY_CORS_ENABLED=false
SECURITY_DEBUG_MODE=false

# =============================================================================
# BUSINESS CONFIGURATION - PRODUCTION
# =============================================================================
QR_EXPIRATION_MINUTES=30
COUPON_DEFAULT_EXPIRATION_DAYS=90
RAFFLE_TICKET_PRICE_DEFAULT=100
MAX_RAFFLE_PARTICIPANTS=10000

# =============================================================================
# MONITORING & METRICS - PRODUCTION
# =============================================================================
MANAGEMENT_ENDPOINTS_WEB_EXPOSURE_INCLUDE=health,info,metrics,prometheus
MANAGEMENT_ENDPOINT_HEALTH_SHOW_DETAILS=when-authorized
MANAGEMENT_METRICS_EXPORT_PROMETHEUS_ENABLED=true

# =============================================================================
# RATE LIMITING - PRODUCTION
# =============================================================================
RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS_PER_MINUTE=100
RATE_LIMIT_BURST_CAPACITY=20

# =============================================================================
# CACHE CONFIGURATION - PRODUCTION
# =============================================================================
CACHE_TTL_DEFAULT=7200
CACHE_TTL_USER_SESSION=14400
CACHE_TTL_FUEL_PRICES=3600
CACHE_TTL_STATION_STATUS=1800
CACHE_MAX_SIZE=10000

# =============================================================================
# FILE STORAGE - PRODUCTION
# =============================================================================
FILE_STORAGE_TYPE=s3
FILE_STORAGE_BUCKET=gasolinera-jsm-prod-files
FILE_MAX_SIZE=50MB
ALLOWED_FILE_TYPES=jpg,jpeg,png,pdf

# =============================================================================
# EXTERNAL SERVICES - PRODUCTION
# =============================================================================
PAYMENT_GATEWAY_URL=https://api.payment-provider.com
SMS_SERVICE_URL=https://api.sms-provider.com
EMAIL_SERVICE_URL=https://api.email-provider.com
NOTIFICATION_SERVICE_URL=https://api.notification-provider.com

# =============================================================================
# BACKUP CONFIGURATION - PRODUCTION
# =============================================================================
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30
BACKUP_S3_BUCKET=gasolinera-jsm-prod-backups

# =============================================================================
# SSL/TLS CONFIGURATION - PRODUCTION
# =============================================================================
SSL_ENABLED=true
SSL_KEY_STORE_TYPE=PKCS12
SSL_PROTOCOL=TLS
SSL_ENABLED_PROTOCOLS=TLSv1.2,TLSv1.3

# =============================================================================
# DEPLOYMENT CONFIGURATION - PRODUCTION
# =============================================================================
DEPLOYMENT_STRATEGY=rolling
DEPLOYMENT_MAX_SURGE=1
DEPLOYMENT_MAX_UNAVAILABLE=0
HEALTH_CHECK_GRACE_PERIOD=120s
HEALTH_CHECK_INTERVAL=30s
HEALTH_CHECK_TIMEOUT=15s
HEALTH_CHECK_RETRIES=3

# =============================================================================
# RESOURCE LIMITS - PRODUCTION
# =============================================================================
# API Gateway
API_GATEWAY_MEMORY_LIMIT=1.5G
API_GATEWAY_MEMORY_RESERVATION=512M
API_GATEWAY_CPU_LIMIT=1.0
API_GATEWAY_CPU_RESERVATION=0.5

# Auth Service
AUTH_SERVICE_MEMORY_LIMIT=1G
AUTH_SERVICE_MEMORY_RESERVATION=384M
AUTH_SERVICE_CPU_LIMIT=0.75
AUTH_SERVICE_CPU_RESERVATION=0.25

# Coupon Service
COUPON_SERVICE_MEMORY_LIMIT=1G
COUPON_SERVICE_MEMORY_RESERVATION=384M
COUPON_SERVICE_CPU_LIMIT=0.75
COUPON_SERVICE_CPU_RESERVATION=0.25

# Station Service
STATION_SERVICE_MEMORY_LIMIT=1G
STATION_SERVICE_MEMORY_RESERVATION=384M
STATION_SERVICE_CPU_LIMIT=0.75
STATION_SERVICE_CPU_RESERVATION=0.25

# Raffle Service
RAFFLE_SERVICE_MEMORY_LIMIT=1G
RAFFLE_SERVICE_MEMORY_RESERVATION=384M
RAFFLE_SERVICE_CPU_LIMIT=0.75
RAFFLE_SERVICE_CPU_RESERVATION=0.25

# Redemption Service
REDEMPTION_SERVICE_MEMORY_LIMIT=1G
REDEMPTION_SERVICE_MEMORY_RESERVATION=384M
REDEMPTION_SERVICE_CPU_LIMIT=0.75
REDEMPTION_SERVICE_CPU_RESERVATION=0.25

# Ad Engine
AD_ENGINE_MEMORY_LIMIT=1G
AD_ENGINE_MEMORY_RESERVATION=384M
AD_ENGINE_CPU_LIMIT=0.75
AD_ENGINE_CPU_RESERVATION=0.25

# =============================================================================
# NETWORK CONFIGURATION - PRODUCTION
# =============================================================================
NETWORK_SUBNET=172.22.0.0/16
NETWORK_GATEWAY=172.22.0.1
NETWORK_MTU=1500

# =============================================================================
# PRODUCTION FLAGS
# =============================================================================
PRODUCTION_MODE=true
DEBUG_MODE=false
ENABLE_SWAGGER=false
ENABLE_ACTUATOR_ADMIN=false
ENABLE_DEV_ENDPOINTS=false
ENABLE_TEST_DATA_RESET=false
ENABLE_PERFORMANCE_LOGGING=false

# =============================================================================
# COMPLIANCE & AUDIT - PRODUCTION
# =============================================================================
AUDIT_ENABLED=true
AUDIT_LOG_LEVEL=INFO
COMPLIANCE_MODE=strict
DATA_RETENTION_DAYS=2555  # 7 years
PII_ENCRYPTION_ENABLED=true

# =============================================================================
# DISASTER RECOVERY - PRODUCTION
# =============================================================================
DR_ENABLED=true
DR_BACKUP_FREQUENCY=daily
DR_REPLICATION_ENABLED=true
DR_FAILOVER_TIMEOUT=300s

# =============================================================================
# PERFORMANCE TUNING - PRODUCTION
# =============================================================================
CONNECTION_POOL_SIZE=20
CONNECTION_TIMEOUT=30000
READ_TIMEOUT=60000
WRITE_TIMEOUT=60000
IDLE_TIMEOUT=300000

# Thread Pool Configuration
THREAD_POOL_CORE_SIZE=10
THREAD_POOL_MAX_SIZE=50
THREAD_POOL_QUEUE_CAPACITY=1000
THREAD_POOL_KEEP_ALIVE=60s

# =============================================================================
# FEATURE FLAGS - PRODUCTION
# =============================================================================
FEATURE_NEW_PAYMENT_FLOW=true
FEATURE_ADVANCED_ANALYTICS=true
FEATURE_MOBILE_PUSH_NOTIFICATIONS=true
FEATURE_LOYALTY_PROGRAM=false
FEATURE_BETA_FEATURES=false